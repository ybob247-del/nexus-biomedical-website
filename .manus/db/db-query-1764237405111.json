{
  "query": "CREATE TABLE IF NOT EXISTS referral_codes (\n  id SERIAL PRIMARY KEY,\n  user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n  code VARCHAR(20) UNIQUE NOT NULL,\n  total_signups INTEGER DEFAULT 0,\n  total_conversions INTEGER DEFAULT 0,\n  total_rewards_earned DECIMAL(10,2) DEFAULT 0,\n  created_at TIMESTAMP NOT NULL DEFAULT NOW(),\n  UNIQUE(user_id)\n);\n\nCREATE TABLE IF NOT EXISTS referral_signups (\n  id SERIAL PRIMARY KEY,\n  referrer_user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n  referred_user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n  referral_code VARCHAR(20) NOT NULL,\n  converted BOOLEAN DEFAULT FALSE,\n  converted_at TIMESTAMP,\n  reward_amount DECIMAL(10,2),\n  reward_granted BOOLEAN DEFAULT FALSE,\n  created_at TIMESTAMP NOT NULL DEFAULT NOW()\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bdzn41uM6mMWcv.97707ddd6929 --database 3gcYftfyZmb2335Uoynmho --execute CREATE TABLE IF NOT EXISTS referral_codes (\n  id SERIAL PRIMARY KEY,\n  user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n  code VARCHAR(20) UNIQUE NOT NULL,\n  total_signups INTEGER DEFAULT 0,\n  total_conversions INTEGER DEFAULT 0,\n  total_rewards_earned DECIMAL(10,2) DEFAULT 0,\n  created_at TIMESTAMP NOT NULL DEFAULT NOW(),\n  UNIQUE(user_id)\n);\n\nCREATE TABLE IF NOT EXISTS referral_signups (\n  id SERIAL PRIMARY KEY,\n  referrer_user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n  referred_user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,\n  referral_code VARCHAR(20) NOT NULL,\n  converted BOOLEAN DEFAULT FALSE,\n  converted_at TIMESTAMP,\n  reward_amount DECIMAL(10,2),\n  reward_granted BOOLEAN DEFAULT FALSE,\n  created_at TIMESTAMP NOT NULL DEFAULT NOW()\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 311
}