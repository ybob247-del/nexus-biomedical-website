{
  "query": "-- EndoGuard™ Database Schema\nCREATE TABLE IF NOT EXISTS edc_chemicals (\n    id SERIAL PRIMARY KEY,\n    cas_number VARCHAR(50) UNIQUE NOT NULL,\n    chemical_name VARCHAR(255) NOT NULL,\n    common_names TEXT[],\n    chemical_class VARCHAR(100),\n    edc_category VARCHAR(100),\n    hormone_systems_affected TEXT[],\n    health_effects TEXT,\n    common_sources TEXT[],\n    exposure_routes TEXT[],\n    bioaccumulation_potential VARCHAR(50),\n    regulatory_status TEXT,\n    epa_data JSONB,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS user_assessments (\n    id SERIAL PRIMARY KEY,\n    user_id INTEGER NOT NULL,\n    assessment_type VARCHAR(50) NOT NULL,\n    age INTEGER,\n    biological_sex VARCHAR(20),\n    menstrual_status VARCHAR(50),\n    symptoms JSONB,\n    symptom_severity INTEGER CHECK (symptom_severity BETWEEN 1 AND 10),\n    symptom_duration VARCHAR(50),\n    diet_quality VARCHAR(50),\n    exercise_frequency VARCHAR(50),\n    sleep_quality VARCHAR(50),\n    stress_level INTEGER CHECK (stress_level BETWEEN 1 AND 10),\n    plastic_use_frequency VARCHAR(50),\n    processed_food_frequency VARCHAR(50),\n    personal_care_products TEXT[],\n    household_products TEXT[],\n    occupational_exposure BOOLEAN DEFAULT false,\n    water_source VARCHAR(100),\n    existing_conditions TEXT[],\n    medications TEXT[],\n    supplements TEXT[],\n    risk_score INTEGER CHECK (risk_score BETWEEN 0 AND 100),\n    primary_concerns TEXT[],\n    ai_analysis TEXT,\n    completed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS symptom_categories (\n    id SERIAL PRIMARY KEY,\n    category_name VARCHAR(100) NOT NULL,\n    hormone_system VARCHAR(100),\n    symptoms TEXT[],\n    description TEXT,\n    severity_indicators TEXT\n);\n\nCREATE TABLE IF NOT EXISTS exposure_assessments (\n    id SERIAL PRIMARY KEY,\n    assessment_id INTEGER NOT NULL REFERENCES user_assessments(id) ON DELETE CASCADE,\n    chemical_id INTEGER REFERENCES edc_chemicals(id),\n    exposure_source VARCHAR(255),\n    exposure_frequency VARCHAR(50),\n    exposure_level VARCHAR(50),\n    confidence_level VARCHAR(50),\n    notes TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS recommendations (\n    id SERIAL PRIMARY KEY,\n    assessment_id INTEGER NOT NULL REFERENCES user_assessments(id) ON DELETE CASCADE,\n    category VARCHAR(100) NOT NULL,\n    priority VARCHAR(50),\n    recommendation_text TEXT NOT NULL,\n    rationale TEXT,\n    expected_benefit TEXT,\n    implementation_difficulty VARCHAR(50),\n    estimated_cost VARCHAR(50),\n    evidence_level VARCHAR(50),\n    resources TEXT[],\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2bdzn41uM6mMWcv.97707ddd6929 --database 3gcYftfyZmb2335Uoynmho --execute -- EndoGuard™ Database Schema\nCREATE TABLE IF NOT EXISTS edc_chemicals (\n    id SERIAL PRIMARY KEY,\n    cas_number VARCHAR(50) UNIQUE NOT NULL,\n    chemical_name VARCHAR(255) NOT NULL,\n    common_names TEXT[],\n    chemical_class VARCHAR(100),\n    edc_category VARCHAR(100),\n    hormone_systems_affected TEXT[],\n    health_effects TEXT,\n    common_sources TEXT[],\n    exposure_routes TEXT[],\n    bioaccumulation_potential VARCHAR(50),\n    regulatory_status TEXT,\n    epa_data JSONB,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS user_assessments (\n    id SERIAL PRIMARY KEY,\n    user_id INTEGER NOT NULL,\n    assessment_type VARCHAR(50) NOT NULL,\n    age INTEGER,\n    biological_sex VARCHAR(20),\n    menstrual_status VARCHAR(50),\n    symptoms JSONB,\n    symptom_severity INTEGER CHECK (symptom_severity BETWEEN 1 AND 10),\n    symptom_duration VARCHAR(50),\n    diet_quality VARCHAR(50),\n    exercise_frequency VARCHAR(50),\n    sleep_quality VARCHAR(50),\n    stress_level INTEGER CHECK (stress_level BETWEEN 1 AND 10),\n    plastic_use_frequency VARCHAR(50),\n    processed_food_frequency VARCHAR(50),\n    personal_care_products TEXT[],\n    household_products TEXT[],\n    occupational_exposure BOOLEAN DEFAULT false,\n    water_source VARCHAR(100),\n    existing_conditions TEXT[],\n    medications TEXT[],\n    supplements TEXT[],\n    risk_score INTEGER CHECK (risk_score BETWEEN 0 AND 100),\n    primary_concerns TEXT[],\n    ai_analysis TEXT,\n    completed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS symptom_categories (\n    id SERIAL PRIMARY KEY,\n    category_name VARCHAR(100) NOT NULL,\n    hormone_system VARCHAR(100),\n    symptoms TEXT[],\n    description TEXT,\n    severity_indicators TEXT\n);\n\nCREATE TABLE IF NOT EXISTS exposure_assessments (\n    id SERIAL PRIMARY KEY,\n    assessment_id INTEGER NOT NULL REFERENCES user_assessments(id) ON DELETE CASCADE,\n    chemical_id INTEGER REFERENCES edc_chemicals(id),\n    exposure_source VARCHAR(255),\n    exposure_frequency VARCHAR(50),\n    exposure_level VARCHAR(50),\n    confidence_level VARCHAR(50),\n    notes TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS recommendations (\n    id SERIAL PRIMARY KEY,\n    assessment_id INTEGER NOT NULL REFERENCES user_assessments(id) ON DELETE CASCADE,\n    category VARCHAR(100) NOT NULL,\n    priority VARCHAR(50),\n    recommendation_text TEXT NOT NULL,\n    rationale TEXT,\n    expected_benefit TEXT,\n    implementation_difficulty VARCHAR(50),\n    estimated_cost VARCHAR(50),\n    evidence_level VARCHAR(50),\n    resources TEXT[],\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 2: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 5 column 23 near \"[],",
    "    chemical_class VARCHAR(100),",
    "    edc_category VARCHAR(100),",
    "    hormone_systems_affected TEXT[],",
    "    health_effects TEXT,",
    "    common_sources TEXT[],",
    "    exposure_routes TEXT[],",
    "    bioaccumulation_potential VARCHAR(50),",
    "    regulatory_status TEXT,",
    "    epa_data JSONB,",
    "    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,",
    "    updated_at TIMESTAMP DEFAULT CURREN"
  ]
}